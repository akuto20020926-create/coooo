<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🍪 クッキークリッカー Pro Plus</title>
    <link rel="stylesheet" href="01UI.css">
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- ヘッダー -->
    <h1>🍪 クッキークリッカー Pro Plus</h1>
    
    <!-- タブナビゲーション -->
    <div class="tab-navigation">
        <button class="tab-btn active" data-tab="game">🎮 ゲーム</button>
        <button class="tab-btn" data-tab="prestige">⭐ 転生</button>
        <button class="tab-btn" data-tab="minigame">🎯 ミニゲーム</button>
        <button class="tab-btn" data-tab="stats">📊 統計</button>
        <button class="tab-btn" data-tab="help">❓ ヘルプ</button>
    </div>
    
    <!-- メインレイアウト -->
    <div class="main-layout">
        
        <!-- ========== ゲームタブ ========== -->
        <div class="tab-content active" id="game-tab">
            
            <!-- 左パネル: ゲームエリア -->
            <div id="game-container">
                <!-- ステータス表示 -->
                <div class="stats">
                    <p class="cookie-display">🍪 <span id="cookie-count">0</span></p>
                    <p class="cps-display">毎秒: <span id="cps">0</span> /秒</p>
                    <p class="level-display">
                        レベル: <span id="player-level">1</span> 
                        (経験値: <span id="player-exp">0</span>/<span id="player-exp-max">100</span>)
                    </p>
                    
                    <!-- 経験値バー -->
                    <div class="exp-bar">
                        <div class="exp-bar-fill" id="exp-bar-fill"></div>
                    </div>
                    
                    <!-- 倍率表示 -->
                    <p class="multiplier-display" id="multiplier-display" style="display: none;">
                        🌟 <span id="multiplier-value">1</span>倍モード！ 
                        残り<span id="multiplier-time">30</span>秒
                    </p>
                    
                    <!-- コンボ表示 -->
                    <p class="combo-display" id="combo-display" style="display: none;">
                        🔥 コンボ: <span id="combo-count">0</span>
                    </p>
                </div>
                
                <!-- クッキークリックエリア -->
                <div id="cookie-area">
                    <div id="cookie" class="cookie-emoji">🍪</div>
                </div>
                
                <!-- ゴールデンクッキー -->
                <div id="golden-cookie" class="golden-cookie" style="display: none;">✨🍪✨</div>
                
                <!-- 実績表示 -->
                <div id="achievements"></div>
            </div>
            
            <!-- 右パネル: ショップと研究所 -->
            <div class="right-panel">
                
                <!-- ショップ -->
                <div id="shop-container">
                    <h2>🏪 ショップ</h2>
                    <div class="shop-filter">
                        <button class="filter-btn active" data-filter="all">全て</button>
                        <button class="filter-btn" data-filter="affordable">購入可能</button>
                    </div>
                    <div id="shop-items"></div>
                </div>
                
                <!-- 研究所 -->
                <div id="research-container">
                    <h2>🔬 研究所</h2>
                    <p class="research-desc">永続的なアップグレードを購入できます</p>
                    <div id="research-items"></div>
                </div>
            </div>
        </div>
        
        <!-- ========== 転生タブ ========== -->
        <div class="tab-content" id="prestige-tab">
            <div class="prestige-container">
                <h2>⭐ 転生システム</h2>
                
                <!-- 転生情報 -->
                <div class="prestige-info">
                    <p class="prestige-desc">
                        転生すると全てがリセットされますが、強力な恒久ボーナスを獲得できます！
                    </p>
                    
                    <div class="prestige-stats">
                        <p>現在の転生レベル: <span id="prestige-level">0</span></p>
                        <p>獲得可能な天国チップ: <span id="heavenly-chips">0</span> 🌟</p>
                        <p>天国チップボーナス: +<span id="heavenly-bonus">0</span>% 全生産</p>
                        <p>必要クッキー数: <span id="prestige-requirement">1,000,000</span></p>
                    </div>
                    
                    <button id="prestige-btn" class="prestige-btn" disabled>⭐ 転生する</button>
                </div>
                
                <!-- 天国のアップグレード -->
                <div class="heavenly-upgrades">
                    <h3>🌟 天国のアップグレード</h3>
                    <div id="heavenly-upgrades-list"></div>
                </div>
            </div>
        </div>
        
        <!-- ========== ミニゲームタブ ========== -->
        <div class="tab-content" id="minigame-tab">
            <div class="minigame-container">
                <h2>🎯 ミニゲーム</h2>
                
                <!-- クッキークエスト -->
                <div class="minigame-section">
                    <h3>⚔ クッキークエスト</h3>
                    <p>モンスターを倒してレアアイテムをゲット！</p>
                    
                    <div id="quest-area">
                        <div class="quest-enemy" id="quest-enemy">
                            <p class="enemy-name">🐉 クッキードラゴン</p>
                            <div class="enemy-hp-bar">
                                <div class="enemy-hp-fill" id="enemy-hp-fill"></div>
                            </div>
                            <p class="enemy-hp-text">
                                <span id="enemy-hp">100</span>/<span id="enemy-hp-max">100</span> HP
                            </p>
                        </div>
                        <button id="attack-btn" class="quest-btn">⚔ 攻撃</button>
                        <div id="quest-rewards"></div>
                    </div>
                </div>
                
                <!-- スロットマシン -->
                <div class="minigame-section">
                    <h3>🎰 スロットマシン</h3>
                    <p>クッキーを賭けて大当たりを狙おう！</p>
                    
                    <div id="slot-machine">
                        <div class="slot-reels">
                            <div class="slot-reel" id="slot-1">🍪</div>
                            <div class="slot-reel" id="slot-2">🍰</div>
                            <div class="slot-reel" id="slot-3">🎂</div>
                        </div>
                        
                        <div class="slot-controls">
                            <input type="number" id="slot-bet" value="100" min="10" step="10">
                            <button id="slot-spin-btn" class="quest-btn">🎰 スピン</button>
                        </div>
                        
                        <p class="slot-result" id="slot-result"></p>
                    </div>
                </div>
                
                <!-- クッキーガーデン -->
                <div class="minigame-section">
                    <h3>🌱 クッキーガーデン</h3>
                    <p>種を植えて育てよう！</p>
                    
                    <div id="garden-area">
                        <div class="garden-grid" id="garden-grid"></div>
                        
                        <div class="garden-seeds">
                            <button class="seed-btn" data-seed="cookie">🍪 クッキーの種 (50)</button>
                            <button class="seed-btn" data-seed="golden">✨ 金の種 (500)</button>
                            <button class="seed-btn" data-seed="rainbow">🌈 虹の種 (2000)</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ========== 統計タブ ========== -->
        <div class="tab-content" id="stats-tab">
            <div class="stats-container">
                <h2>📊 統計情報</h2>
                
                <div class="stats-grid">
                    <!-- クッキー統計 -->
                    <div class="stat-card">
                        <h3>🍪 クッキー統計</h3>
                        <p>総獲得クッキー: <span id="total-cookies-earned">0</span></p>
                        <p>総クリック数: <span id="total-clicks-stat">0</span></p>
                        <p>手動クッキー: <span id="manual-cookies">0</span></p>
                        <p>自動クッキー: <span id="auto-cookies">0</span></p>
                    </div>
                    
                    <!-- 購入統計 -->
                    <div class="stat-card">
                        <h3>🏪 購入統計</h3>
                        <p>総購入回数: <span id="total-purchases">0</span></p>
                        <p>総支出: <span id="total-spent">0</span></p>
                        <p>研究完了数: <span id="research-completed">0</span></p>
                    </div>
                    
                    <!-- 時間統計 -->
                    <div class="stat-card">
                        <h3>⏱ 時間統計</h3>
                        <p>プレイ時間: <span id="play-time">0</span>秒</p>
                        <p>最高CPS: <span id="max-cps">0</span></p>
                        <p>最高コンボ: <span id="max-combo">0</span></p>
                    </div>
                    
                    <!-- 特殊統計 -->
                    <div class="stat-card">
                        <h3>🎯 特殊統計</h3>
                        <p>ゴールデンクッキー: <span id="golden-clicks">0</span>回</p>
                        <p>転生回数: <span id="prestige-count">0</span>回</p>
                        <p>実績達成: <span id="achievements-unlocked">0</span>/<span id="achievements-total">0</span></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========== ヘルプタブ（新規追加） ========== -->
        <div class="tab-content" id="help-tab">
            <div class="help-container">
                <h2>❓ ゲームガイド</h2>
                
                <div class="help-section">
                    <h3>🎮 基本操作</h3>
                    <ul>
                        <li><strong>クッキーをクリック:</strong> 中央の大きなクッキーをクリックしてクッキーを獲得</li>
                        <li><strong>施設を購入:</strong> 右側のショップから自動生産施設を購入</li>
                        <li><strong>研究を進める:</strong> 研究所で永続的なアップグレードを獲得</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>⭐ 転生システム</h3>
                    <ul>
                        <li><strong>転生条件:</strong> 総獲得クッキー100万枚以上</li>
                        <li><strong>天国チップ:</strong> 転生時に獲得する特殊通貨</li>
                        <li><strong>恒久ボーナス:</strong> 転生レベル×2%の全生産ボーナス</li>
                        <li><strong>天国のアップグレード:</strong> 天国チップで購入する強力な永続アップグレード</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>🎯 ミニゲーム</h3>
                    <ul>
                        <li><strong>クッキークエスト:</strong> モンスターを倒してクッキー報酬を獲得</li>
                        <li><strong>スロットマシン:</strong> クッキーを賭けて最大10倍の配当を狙う</li>
                        <li><strong>クッキーガーデン:</strong> 種を植えて育て、収穫時に大量のクッキーを獲得</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>✨ 特殊システム</h3>
                    <ul>
                        <li><strong>ゴールデンクッキー:</strong> ランダムに出現する金色のクッキー。クリックするとルーレット発動</li>
                        <li><strong>ルーレット:</strong> 7倍/77倍/777倍のクリック倍率を30秒間獲得</li>
                        <li><strong>コンボシステム:</strong> 2秒以内に連続クリックでコンボ発動。10コンボごとにボーナス</li>
                        <li><strong>レベルシステム:</strong> クリックで経験値獲得。レベルアップでクリック力上昇</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>💾 セーブ機能</h3>
                    <ul>
                        <li><strong>自動セーブ:</strong> 30秒ごとに自動的にセーブ</li>
                        <li><strong>手動セーブ:</strong> 💾セーブボタンでいつでも保存可能</li>
                        <li><strong>エクスポート:</strong> セーブデータをクリップボードにコピー</li>
                        <li><strong>インポート:</strong> 他のデバイスからセーブデータを読み込み</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>🏆 実績システム</h3>
                    <p>様々な条件を達成すると実績が解除されます。全15種類の実績をコンプリートしよう！</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ボタングループ -->
    <div class="button-group">
        <button id="save-btn">💾 セーブ</button>
        <button id="load-btn">📂 ロード</button>
        <button id="export-btn">📤 エクスポート</button>
        <button id="import-btn">📥 インポート</button>
        <button id="reset-btn">🔄 リセット</button>
        <button id="mute-btn">🔇 音楽OFF</button>
    </div>
    
    <!-- ========== モーダル ========== -->
    
    <!-- ルーレットモーダル -->
    <div id="roulette-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>🎰 ラッキールーレット！</h2>
            <div id="roulette-display" class="roulette-display">
                <div class="roulette-number">?</div>
            </div>
            <p class="roulette-text">クリック倍率が決まります...</p>
        </div>
    </div>
    
    <!-- インポートモーダル -->
    <div id="import-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>📥 セーブデータをインポート</h2>
            <textarea id="import-textarea" placeholder="セーブデータを貼り付けてください"></textarea>
            <div class="modal-buttons">
                <button id="import-confirm-btn" class="modal-btn">インポート</button>
                <button id="import-cancel-btn" class="modal-btn cancel">キャンセル</button>
            </div>
        </div>
    </div>
    
    <script src="02制御.js"></script>
</body>
</html>